!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);(()=>{const t=document.querySelector(".user-list__login"),e=document.querySelector(".modal");t.addEventListener("click",()=>{e.classList.remove("modal--hidden"),document.body.style.paddingRight="17px",document.body.style.overflow="hidden"}),e.addEventListener("click",t=>{const i=t.target;(i.classList.contains("modal__overlay")||i.classList.contains("modal__close"))&&(e.classList.add("modal--hidden"),document.body.style.paddingRight="0",document.body.style.overflow="scroll")})})(),(()=>{const t=document.querySelector(".menu__burger"),e=document.querySelector(".menu__list");t.addEventListener("click",()=>{const i="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!i),e.classList.toggle("menu__list--active")}),document.addEventListener("click",i=>{i.target.closest(".menu")||(t.setAttribute("aria-expanded",!1),e.classList.remove("menu__list--active"))})})();new class{constructor({main:t,wrap:e,next:i,prev:n,infinity:o=!1,position:s=0,slidesToShow:r=3,responsive:l=[]}){t&&e||console.warn('slider-carousel: Необходимо два свойства, "main" и "wrap"'),this.main=document.querySelector(t),this.wrap=document.querySelector(e),this.next=document.querySelector(i),this.prev=document.querySelector(n),this.slides=document.querySelector(e).children,this.slidesToShow=r,this.options={position:s,infinity:o,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=l}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const t of this.slides)t.classList.add("glo-slider__item")}addStyle(){let t=document.getElementById("sliderCarousel-style");t||(t=document.createElement("style"),t.id="sliderCarousel-style"),t.textContent=`\n          .glo-slider {\n              overflow: hidden !important;\n              position: relative;\n          }\n          .glo-slider__wrap {\n              transition: transform 0.5s !important;\n              will-change: transform !important;\n          }\n          .glo-slider__item {\n              display: flex !important;\n              align-items: center !important;\n              justify-content: center !important;\n              flex: 0 0 ${this.options.widthSlide}% !important;\n              margin: auto 0 !important;\n              opacity: 1;\n              transition: all ease 1s;\n          }\n          .glo-slider__item .opacity--0 {\n              opacity: 0;\n          }\n          .glo-slider__prev,\n          .glo-slider__next {\n              position: absolute;\n              margin: 0 10px;\n              border: 20px solid transparent;\n              background: transparent;\n              cursor: pointer;\n          }\n          .glo-slider__next {\n              top: 62%;\n              right: 0;\n              border-left-color: #19b5fe;\n          }\n          .glo-slider__prev {\n              top: 62%;\n              border-right-color: #19b5fe;\n          }\n          .glo-slider__prev:hover,\n          .glo-slider__next:hover,C\n          .glo-slider__prev:focus,\n          .glo-slider__next:focus {\n              background: transparent;\n              outline: transparent;\n          }\n      `,document.head.append(t)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.classList.add("glo-slider__prev"),this.next.classList.add("glo-slider__next"),this.main.append(this.prev),this.main.append(this.next)}responseInit(){const t=this.slidesToShow,e=this.responsive.map(t=>t.breakpoint),i=Math.max(...e),n=()=>{const n=document.documentElement.clientWidth;if(n<i)for(let t=0;t<e.length;t++)n<e[t]&&(this.slidesToShow=this.responsive[t].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=t,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};n(),window.addEventListener("resize",n)}}({main:".reviews",wrap:".reviews__cards",prev:".reviews__prev",next:".reviews__next",slidesToShow:1,infinity:!0,responsive:[{breakpoint:1020,slideToShow:1},{breakpoint:768,slideToShow:1}]}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZHVsZXMvbG9naW4tcG9wdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9tZW51LmpzIiwid2VicGFjazovLy8uL3BsdWdpbnMvc2xpZGVyQ2Fyb3VzZWwvc2xpZGVyQ2Fyb3VzZWwuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJidXR0b25Mb2dpbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInJlbW92ZSIsImJvZHkiLCJzdHlsZSIsInBhZGRpbmdSaWdodCIsIm92ZXJmbG93IiwiZXZlbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsImFkZCIsImxvZ2luUG9wdXAiLCJtZW51QnV0dG9uIiwibWVudUxpc3QiLCJpc0V4cGFuZGVkIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlIiwiY2xvc2VzdCIsIm1lbnUiLCJjb25zdHJ1Y3RvciIsIm1haW4iLCJ3cmFwIiwibmV4dCIsInByZXYiLCJpbmZpbml0eSIsInBvc2l0aW9uIiwic2xpZGVzVG9TaG93IiwicmVzcG9uc2l2ZSIsImNvbnNvbGUiLCJ3YXJuIiwidGhpcyIsInNsaWRlcyIsImNoaWxkcmVuIiwib3B0aW9ucyIsIndpZHRoU2xpZGUiLCJNYXRoIiwiZmxvb3IiLCJtYXhQb3NpdGlvbiIsImxlbmd0aCIsImluaXQiLCJhZGRHbG9DbGFzcyIsImFkZFN0eWxlIiwiYWRkQXJyb3ciLCJjb250cm9sU2xpZGVyIiwicmVzcG9uc2VJbml0IiwiaXRlbSIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImlkIiwidGV4dENvbnRlbnQiLCJoZWFkIiwiYXBwZW5kIiwicHJldlNsaWRlciIsIm5leHRTbGlkZXIiLCJ0cmFuc2Zvcm0iLCJzbGlkZXNUb1Nob3dEZWZhdWx0IiwiYWxsUmVzcG9uc2UiLCJtYXAiLCJicmVha3BvaW50IiwibWF4UmVzcG9uc2UiLCJtYXgiLCJjaGVja1Jlc3BvbnNlIiwid2lkdFdpbmRvdyIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2xpZGVUb1Nob3ciLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdB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QUNJUCxXQUFZLElBQ1pPLFlBQWEsTUFHVjFCIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY29uc3QgbG9naW5Qb3B1cCA9ICgpID0+IHtcclxuICBjb25zdCBidXR0b25Mb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLWxpc3RfX2xvZ2luJyk7XHJcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxuXHJcbiAgY29uc3Qgb3Blbk1vZGFsID0gKCkgPT4ge1xyXG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWhpZGRlbicpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMTdweCc7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS1oaWRkZW4nKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzAnO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xyXG4gIH07XHJcblxyXG4gIGJ1dHRvbkxvZ2luLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsKTtcclxuXHJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfX292ZXJsYXknKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2xvc2UnKSkge1xyXG4gICAgICAgIGNsb3NlTW9kYWwoKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgbG9naW5Qb3B1cCB9IGZyb20gJy4vbW9kdWxlcy9sb2dpbi1wb3B1cCc7XHJcbmltcG9ydCB7IG1lbnUgfSBmcm9tICcuL21vZHVsZXMvbWVudSc7XHJcbmltcG9ydCBzbGlkZXJDYXJvdXNlbCBmcm9tICcuLi8uLi9wbHVnaW5zL3NsaWRlckNhcm91c2VsL3NsaWRlckNhcm91c2VsJztcclxuXHJcbmxvZ2luUG9wdXAoKTtcclxubWVudSgpO1xyXG5cclxuY29uc3QgY2Fyb3VzZWwgPSBuZXcgc2xpZGVyQ2Fyb3VzZWwoe1xyXG4gIG1haW46ICcucmV2aWV3cycsXHJcbiAgd3JhcDogJy5yZXZpZXdzX19jYXJkcycsXHJcbiAgcHJldjogJy5yZXZpZXdzX19wcmV2JyxcclxuICBuZXh0OiAnLnJldmlld3NfX25leHQnLFxyXG4gIHNsaWRlc1RvU2hvdzogMSxcclxuICBpbmZpbml0eTogdHJ1ZSxcclxuXHJcbiAgcmVzcG9uc2l2ZTogW3tcclxuICAgICAgYnJlYWtwb2ludDogMTAyMCxcclxuICAgICAgc2xpZGVUb1Nob3c6IDFcclxuICB9LFxyXG4gIHtcclxuICAgICAgYnJlYWtwb2ludDogNzY4LFxyXG4gICAgICBzbGlkZVRvU2hvdzogMVxyXG4gIH1dXHJcbn0pO1xyXG5jYXJvdXNlbC5pbml0KCk7XHJcbiIsImV4cG9ydCBjb25zdCBtZW51ID0gKCkgPT4ge1xyXG4gIGNvbnN0IG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fYnVyZ2VyJyk7XHJcbiAgY29uc3QgbWVudUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fbGlzdCcpO1xyXG5cclxuICBtZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY29uc3QgaXNFeHBhbmRlZCA9IG1lbnVCdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJztcclxuICAgIG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgIWlzRXhwYW5kZWQpO1xyXG4gICAgbWVudUxpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudV9fbGlzdC0tYWN0aXZlJyk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcubWVudScpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xyXG4gICAgbWVudUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnbWVudV9fbGlzdC0tYWN0aXZlJyk7XHJcbiAgfSk7XHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHNsaWRlckNhcm91c2VsIHtcclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBtYWluLFxyXG4gICAgd3JhcCxcclxuICAgIG5leHQsXHJcbiAgICBwcmV2LFxyXG4gICAgaW5maW5pdHkgPSBmYWxzZSxcclxuICAgIHBvc2l0aW9uID0gMCxcclxuICAgIHNsaWRlc1RvU2hvdyA9IDMsXHJcbiAgICByZXNwb25zaXZlID0gW10sXHJcbiAgfSkge1xyXG4gICAgaWYgKCFtYWluIHx8ICF3cmFwKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybignc2xpZGVyLWNhcm91c2VsOiDQndC10L7QsdGF0L7QtNC40LzQviDQtNCy0LAg0YHQstC+0LnRgdGC0LLQsCwgXCJtYWluXCIg0LggXCJ3cmFwXCInKTtcclxuICAgIH1cclxuICAgIHRoaXMubWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpbik7XHJcbiAgICB0aGlzLndyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHdyYXApO1xyXG4gICAgdGhpcy5uZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuZXh0KTtcclxuICAgIHRoaXMucHJldiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJldik7XHJcbiAgICB0aGlzLnNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iod3JhcCkuY2hpbGRyZW47XHJcbiAgICB0aGlzLnNsaWRlc1RvU2hvdyA9IHNsaWRlc1RvU2hvdztcclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgcG9zaXRpb24sXHJcbiAgICAgIGluZmluaXR5LFxyXG4gICAgICB3aWR0aFNsaWRlOiBNYXRoLmZsb29yKDEwMCAvIHRoaXMuc2xpZGVzVG9TaG93KSxcclxuICAgICAgbWF4UG9zaXRpb246IHRoaXMuc2xpZGVzLmxlbmd0aCAtIHRoaXMuc2xpZGVzVG9TaG93LFxyXG4gICAgfTtcclxuICAgIHRoaXMucmVzcG9uc2l2ZSA9IHJlc3BvbnNpdmU7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5hZGRHbG9DbGFzcygpO1xyXG4gICAgdGhpcy5hZGRTdHlsZSgpO1xyXG5cclxuICAgIGlmICh0aGlzLnByZXYgJiYgdGhpcy5uZXh0KSB7XHJcbiAgICAgIHRoaXMuY29udHJvbFNsaWRlcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hZGRBcnJvdygpO1xyXG4gICAgICB0aGlzLmNvbnRyb2xTbGlkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5yZXNwb25zaXZlKSB7XHJcbiAgICAgIHRoaXMucmVzcG9uc2VJbml0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRHbG9DbGFzcygpIHtcclxuICAgIHRoaXMubWFpbi5jbGFzc0xpc3QuYWRkKFwiZ2xvLXNsaWRlclwiKTtcclxuICAgIHRoaXMud3JhcC5jbGFzc0xpc3QuYWRkKFwiZ2xvLXNsaWRlcl9fd3JhcFwiKTtcclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnNsaWRlcykge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJnbG8tc2xpZGVyX19pdGVtXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkU3R5bGUoKSB7XHJcbiAgICBsZXQgc3R5bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlckNhcm91c2VsLXN0eWxlXCIpO1xyXG5cclxuICAgIGlmICghc3R5bGUpIHtcclxuICAgICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgICAgIHN0eWxlLmlkID0gXCJzbGlkZXJDYXJvdXNlbC1zdHlsZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxyXG4gICAgICAgICAgLmdsby1zbGlkZXIge1xyXG4gICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZ2xvLXNsaWRlcl9fd3JhcCB7XHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNXMgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZ2xvLXNsaWRlcl9faXRlbSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgIGZsZXg6IDAgMCAke3RoaXMub3B0aW9ucy53aWR0aFNsaWRlfSUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICBtYXJnaW46IGF1dG8gMCAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIGVhc2UgMXM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZ2xvLXNsaWRlcl9faXRlbSAub3BhY2l0eS0tMCB7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5nbG8tc2xpZGVyX19wcmV2LFxyXG4gICAgICAgICAgLmdsby1zbGlkZXJfX25leHQge1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICBtYXJnaW46IDAgMTBweDtcclxuICAgICAgICAgICAgICBib3JkZXI6IDIwcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmdsby1zbGlkZXJfX25leHQge1xyXG4gICAgICAgICAgICAgIHRvcDogNjIlO1xyXG4gICAgICAgICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjMTliNWZlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmdsby1zbGlkZXJfX3ByZXYge1xyXG4gICAgICAgICAgICAgIHRvcDogNjIlO1xyXG4gICAgICAgICAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogIzE5YjVmZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5nbG8tc2xpZGVyX19wcmV2OmhvdmVyLFxyXG4gICAgICAgICAgLmdsby1zbGlkZXJfX25leHQ6aG92ZXIsQ1xyXG4gICAgICAgICAgLmdsby1zbGlkZXJfX3ByZXY6Zm9jdXMsXHJcbiAgICAgICAgICAuZ2xvLXNsaWRlcl9fbmV4dDpmb2N1cyB7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgb3V0bGluZTogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIGA7XHJcblxyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoc3R5bGUpO1xyXG4gIH1cclxuXHJcbiAgY29udHJvbFNsaWRlcigpIHtcclxuICAgIHRoaXMucHJldi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5wcmV2U2xpZGVyLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm5leHRTbGlkZXIuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBwcmV2U2xpZGVyKCkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmZpbml0eSB8fCB0aGlzLm9wdGlvbnMucG9zaXRpb24gPiAwKSB7XHJcbiAgICAgIC0tdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5tYXhQb3NpdGlvbjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLndyYXAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uICogdGhpcy5vcHRpb25zLndpZHRoU2xpZGVcclxuICAgICAgfSUpYDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHRTbGlkZXIoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMub3B0aW9ucy5pbmZpbml0eSB8fFxyXG4gICAgICB0aGlzLm9wdGlvbnMucG9zaXRpb24gPCB0aGlzLm9wdGlvbnMubWF4UG9zaXRpb25cclxuICAgICkge1xyXG4gICAgICArK3RoaXMub3B0aW9ucy5wb3NpdGlvbjtcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA+IHRoaXMub3B0aW9ucy5tYXhQb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy53cmFwLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbiAqIHRoaXMub3B0aW9ucy53aWR0aFNsaWRlXHJcbiAgICAgIH0lKWA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRBcnJvdygpIHtcclxuICAgIHRoaXMucHJldiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICB0aGlzLm5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cclxuICAgIHRoaXMucHJldi5jbGFzc0xpc3QuYWRkKFwiZ2xvLXNsaWRlcl9fcHJldlwiKTtcclxuICAgIHRoaXMubmV4dC5jbGFzc0xpc3QuYWRkKFwiZ2xvLXNsaWRlcl9fbmV4dFwiKTtcclxuXHJcbiAgICB0aGlzLm1haW4uYXBwZW5kKHRoaXMucHJldik7XHJcbiAgICB0aGlzLm1haW4uYXBwZW5kKHRoaXMubmV4dCk7XHJcbiAgfVxyXG5cclxuICByZXNwb25zZUluaXQoKSB7XHJcbiAgICBjb25zdCBzbGlkZXNUb1Nob3dEZWZhdWx0ID0gdGhpcy5zbGlkZXNUb1Nob3c7XHJcbiAgICBjb25zdCBhbGxSZXNwb25zZSA9IHRoaXMucmVzcG9uc2l2ZS5tYXAoKGl0ZW0pID0+IGl0ZW0uYnJlYWtwb2ludCk7XHJcbiAgICBjb25zdCBtYXhSZXNwb25zZSA9IE1hdGgubWF4KC4uLmFsbFJlc3BvbnNlKTtcclxuXHJcbiAgICBjb25zdCBjaGVja1Jlc3BvbnNlID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCB3aWR0V2luZG93ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgICBpZiAod2lkdFdpbmRvdyA8IG1heFJlc3BvbnNlKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxSZXNwb25zZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKHdpZHRXaW5kb3cgPCBhbGxSZXNwb25zZVtpXSkge1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlc1RvU2hvdyA9IHRoaXMucmVzcG9uc2l2ZVtpXS5zbGlkZVRvU2hvdztcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLndpZHRoU2xpZGUgPSBNYXRoLmZsb29yKDEwMCAvIHRoaXMuc2xpZGVzVG9TaG93KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTdHlsZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNsaWRlc1RvU2hvdyA9IHNsaWRlc1RvU2hvd0RlZmF1bHQ7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLndpZHRoU2xpZGUgPSBNYXRoLmZsb29yKDEwMCAvIHRoaXMuc2xpZGVzVG9TaG93KTtcclxuICAgICAgICB0aGlzLmFkZFN0eWxlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY2hlY2tSZXNwb25zZSgpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9